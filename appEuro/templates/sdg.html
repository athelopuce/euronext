{% extends "base.html" %}

{% block title %}ListAction{% endblock %}

{% block page_content %}
<div class="page-header">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script>
		$(document).ready(function() {
			var actions=[];

			function loadActions(){
				$.getJSON('/listAction', function(data, status, xhr){
					for (var i = 0; i < data.length; i++ ) {
						actions.push(data[i].name);
					}
				});
			};

			loadActions();

			$('#country').autocomplete({
				source: actions, 
				});
		});
		</script>
	</head>
	<body>
	<h3>liste des actions - appFlask</h3>
	<hr/>

	{%- for category, message in get_flashed_messages(with_categories = true) %}
	<div class = "alert alert-danger">
	{{ message }}
	</div>
	{%- endfor %}

	<form class="form-inline">
		{{ form.csrf_token }}
		<div class="form-group">
			{{form.action(class="form-control")}}
			</div>
			<button type="submit" class="btn btn-info">Submit</button>
	</form>
	<div id="result"></div>


{% endblock %}